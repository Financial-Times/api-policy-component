
varnish:
  shortName: "semanticReaderVarnish"
  path: content/
  jerseyClient:
      timeout: 4000ms
      connectionTimeout: 1s
      keepAlive: 80s
      timeToLive: 45s
  primaryNodes: ["localhost:9090:9091", "localhost:9090:9091"]
  secondaryNodes: null

pipeline:
  webUrlTemplates:
    "http://www.ft.com/ontology/origin/FTComMethode" : "http://www.ft.com/cms/s/{{identifierValue}}.html"
    "http://www.ft.com/ontology/origin/FT-CLAMO"  : "http://www.ft.com/fastft?post={{identifierValue}}"
    "http://www.ft.com/ontology/origin/FT-LABS-WP-1-24" : "{{identifierValue}}"
    "http://www.ft.com/ontology/origin/FT-LABS-WP-1-91" : "{{identifierValue}}"
    "http://api.ft.com/system/FTCOM-METHODE" : "http://www.ft.com/cms/s/{{identifierValue}}.html"
    "http://api.ft.com/system/FT-CLAMO"  : "http://www.ft.com/fastft?post={{identifierValue}}"
    "http://api.ft.com/system/FT-LABS-WP-1-[0-9]+" : "{{identifierValue}}"
    "http://api.ft.com/system/NEXT-VIDEO-EDITOR" : "https://www.ft.com/video/{{identifierValue}}"


policyBrandsMapper:
  policyFilterParameterList:
       - policy: FASTFT_CONTENT_ONLY
         forBrand:
                  - http://api.ft.com/things/5c7592a8-1f0c-11e4-b0cb-b2227cce2b54
       - policy: EXCLUDE_FASTFT_CONTENT
         notForBrand:
                  - http://api.ft.com/things/5c7592a8-1f0c-11e4-b0cb-b2227cce2b54

server:

  applicationConnectors:
      - type: http
        port: 20080

  adminConnectors:
      - type: http
        port: 20082

  requestLog:

    appenders:

      - type: console
        logFormat: "%-5p [%d{ISO8601, GMT}] %c: %X{transaction_id} %m [%thread]%n%xEx"

        # The timezone used to format dates. HINT: USE THE DEFAULT, UTC.
        timeZone: UTC

logging:

  level: INFO

  loggers:
    io.dropwizard: DEBUG
    com.ft.jerseyhttpwrapper.AttemptLogger: WARN

  appenders:

    - type: console
      logFormat: "%-5p [%d{ISO8601, GMT}] %c: %X{transaction_id} %m [%thread]%n%xEx"

metrics:
  reporters:
  - type: graphite
    frequency: 1 minute
    durationUnit: milliseconds
    rateUnit: seconds
    host: localhost
    port: 2003
    prefix: content.local.api-policy-component.1